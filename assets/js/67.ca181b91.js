(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{471:function(n,s,t){"use strict";t.r(s);var a=t(2),e=Object(a.a)({},(function(){var n=this,s=n._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h1",{attrs:{id:"系统内核优化配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统内核优化配置"}},[n._v("#")]),n._v(" 系统内核优化配置")]),n._v(" "),s("h2",{attrs:{id:"系统sysctl-conf-配置优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统sysctl-conf-配置优化"}},[n._v("#")]),n._v(" 系统sysctl.conf 配置优化")]),n._v(" "),s("blockquote",[s("p",[n._v("线上服务器")])]),n._v(" "),s("div",{staticClass:"language-yml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[n._v("   fs.file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v("max=65535\n\n   net.ipv4.tcp_max_tw_buckets = 60000\n\n   net.ipv4.tcp_sack = 1\n\n   net.ipv4.tcp_window_scaling = 1\n\n   net.ipv4.tcp_rmem = 4096 87380 4194304\n\n   net.ipv4.tcp_wmem = 4096 16384 4194304\n\n   net.ipv4.tcp_max_syn_backlog = 65536\n\n   net.core.netdev_max_backlog = 32768\n\n   net.core.somaxconn = 32768\n\n   net.core.wmem_default = 8388608\n\n   net.core.rmem_default = 8388608\n\n   net.core.rmem_max = 16777216\n\n   net.core.wmem_max = 16777216\n\n   net.ipv4.tcp_timestamps = 0\n\n   net.ipv4.tcp_synack_retries = 2\n\n   net.ipv4.tcp_syn_retries = 2\n\n   net.ipv4.tcp_tw_recycle = 1\n\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#net.ipv4.tcp_tw_len = 1")]),n._v("\n\n   net.ipv4.tcp_tw_reuse = 1\n\n   net.ipv4.tcp_mem = 94500000 915000000 927000000\n\n   net.ipv4.tcp_max_orphans = 3276800\n\n   net.ipv4.tcp_tw_recycle = 1\n\n   net.ipv4.ip_local_port_range = 1024 65000\n\n   net.nf_conntrack_max = 6553500\n\n   net.netfilter.nf_conntrack_max = 6553500\n\n   net.netfilter.nf_conntrack_tcp_timeout_close_wait = 60\n\n   net.netfilter.nf_conntrack_tcp_timeout_fin_wait = 120\n\n   net.netfilter.nf_conntrack_tcp_timeout_time_wait = 120\n\n   net.netfilter.nf_conntrack_tcp_timeout_established = 3600\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br"),s("span",{staticClass:"line-number"},[n._v("42")]),s("br"),s("span",{staticClass:"line-number"},[n._v("43")]),s("br"),s("span",{staticClass:"line-number"},[n._v("44")]),s("br"),s("span",{staticClass:"line-number"},[n._v("45")]),s("br"),s("span",{staticClass:"line-number"},[n._v("46")]),s("br"),s("span",{staticClass:"line-number"},[n._v("47")]),s("br"),s("span",{staticClass:"line-number"},[n._v("48")]),s("br"),s("span",{staticClass:"line-number"},[n._v("49")]),s("br"),s("span",{staticClass:"line-number"},[n._v("50")]),s("br"),s("span",{staticClass:"line-number"},[n._v("51")]),s("br"),s("span",{staticClass:"line-number"},[n._v("52")]),s("br"),s("span",{staticClass:"line-number"},[n._v("53")]),s("br"),s("span",{staticClass:"line-number"},[n._v("54")]),s("br"),s("span",{staticClass:"line-number"},[n._v("55")]),s("br"),s("span",{staticClass:"line-number"},[n._v("56")]),s("br"),s("span",{staticClass:"line-number"},[n._v("57")]),s("br")])]),s("h2",{attrs:{id:"系统-etc-security-limits-conf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统-etc-security-limits-conf"}},[n._v("#")]),n._v(" 系统/etc/security/limits.conf")]),n._v(" "),s("div",{staticClass:"language-yml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[n._v("        * soft nproc 65535\n\n        * hard nproc 65535\n\n        * soft nofile 65535\n\n        * hard nofile 65535\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);