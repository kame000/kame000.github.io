(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{456:function(t,s,a){"use strict";a.r(s);var n=a(2),v=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"ftp-安装使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ftp-安装使用"}},[t._v("#")]),t._v(" \bFTP 安装使用")]),t._v(" "),s("h2",{attrs:{id:"环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境"}},[t._v("#")]),t._v(" 环境")]),t._v(" "),s("p",[t._v("Centos 6.5配置FTP服务器")]),t._v(" "),s("h2",{attrs:{id:"安装步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装步骤"}},[t._v("#")]),t._v(" 安装步骤")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("安装vsftpd，ftp的服务器")]),t._v(" "),s("p",[t._v("yum install vsftpd\n设置开机启动")]),t._v(" "),s("p",[t._v("chkconfig vsftpd on\n启动服务")]),t._v(" "),s("p",[t._v("service vsftpd start")])])]),t._v(" "),s("h2",{attrs:{id:"配置ftp用户组-用户以及相应权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置ftp用户组-用户以及相应权限"}},[t._v("#")]),t._v(" 配置FTP用户组/用户以及相应权限")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("添加用户组")]),t._v(" "),s("p",[s("code",[t._v("groupadd ftp")])])]),t._v(" "),s("li",[s("p",[t._v("添加用户")])])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useradd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-g")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ftp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-M")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" /srv/ftp/zhujin "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" /sbin/nologin zhujin\n  -g接的是用户组\n  -M表示不设置它的主目录，假设如果没有-M，则在/home下会有跟用户名"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("zhujin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("一样的目录。\n  -d后面接的是用zhujin登陆FTP的时候，它的初始目录。\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" 后面接/sbin/nologin表示用户不需要登录系统，因为我们只需要用来登陆FTP\n  zhujin表示用户名了\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("ul",[s("li",[s("p",[t._v("设置刚才添加的用户的密码")]),t._v(" "),s("p",[s("code",[t._v("passwd zhujin")])])]),t._v(" "),s("li",[s("p",[t._v("更改FTP目录的权限")]),t._v(" "),s("p",[s("code",[t._v("chown -R zhujin:ftp /srv/ftp/zhujin")]),t._v("\n这时候重启vsftpd")]),t._v(" "),s("p",[s("code",[t._v("/etc/init.d/vsftpd restart")])])]),t._v(" "),s("li",[s("p",[t._v("把用户限制在固定的目录")])])]),t._v(" "),s("p",[t._v("如果这时候登陆会发现刚才新建的用户可以访问并读取所有的目录的数据，这并不是我们想要的，需要把他们限定在某个目录下。修改配置文件\nvsftpd.conf，目录一般在/etc/vsftpd/vsftpd.conf，添加下面两行：")]),t._v(" "),s("p",[t._v("chroot_list_enable=YES\nchroot_list_file=/etc/vsftpd/chroot_list\n然后在文件/etc/vsftpd/chroot_list里面填入你想要限制的用户，比如我就填入了zhujin，这时候重启vsftp，然后重新登陆就可以了。")]),t._v(" "),s("h2",{attrs:{id:"设置匿名用户以及它的根目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置匿名用户以及它的根目录"}},[t._v("#")]),t._v(" 设置匿名用户以及它的根目录")]),t._v(" "),s("ul",[s("li",[t._v("允许匿名用户登陆")])]),t._v(" "),s("p",[t._v("需要修改配置文件vsftpd.conf，添加下面内容：\nanonymous_enable=YES")]),t._v(" "),s("ul",[s("li",[t._v("设置匿名用户的根目录")])]),t._v(" "),s("p",[t._v("需要修改配置文件vsftpd.conf，添加下面内容：\nanon_root=/srv/ftp/anon\n完成后重启一下vsftpd\n/etc/init.d/vsftpd restart")])])}),[],!1,null,null,null);s.default=v.exports}}]);