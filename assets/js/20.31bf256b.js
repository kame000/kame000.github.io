(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{423:function(e,s,t){"use strict";t.r(s);var a=t(2),r=Object(a.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"解决kubernetes启动容器时-容器一直是containercreating不能running"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决kubernetes启动容器时-容器一直是containercreating不能running"}},[e._v("#")]),e._v(" 解决kubernetes启动容器时，容器一直是ContainerCreating不能running")]),e._v(" "),s("h2",{attrs:{id:"现象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#现象"}},[e._v("#")]),e._v(" 现象")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("kubectl get pod redis\nNAME READY STATUS RESTARTS AGE\nkubetest-8s1rt1 "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("/1 ContainerCreating "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v(" 12s\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("h2",{attrs:{id:"分心"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分心"}},[e._v("#")]),e._v(" 分心")]),e._v(" "),s("h3",{attrs:{id:"首先执行kubectl-describe-pod"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#首先执行kubectl-describe-pod"}},[e._v("#")]),e._v(" 首先执行kubectl describe pod")]),e._v(" "),s("blockquote",[s("p",[e._v("describe  输出指定的一个/多个资源的详细信息。\n详细可以参考：https://www.kubernetes.org.cn/doc-61")])]),e._v(" "),s("ul",[s("li",[e._v("查看最后报错信息")])]),e._v(" "),s("div",{staticClass:"language-shel line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('Error syncing pod, skipping: failed to "StartContainer" for "POD" with ErrImagePull: "image pull failed for registry.access.redhat.com/rhel7/pod-infrastructure:latest, this may be because there are no credentials on this request. details: (open /etc/docker/certs.d/registry.access.redhat.com/redhat-ca.crt: no such file or directory)"\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("ul",[s("li",[e._v("查看/etc/docker/certs.d/registry.access.redhat.com/redhat-ca.crt  是一个软链接，但是链接过去后并没有真实的/etc/rhsm")])]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" *rhsm*\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("ul",[s("li",[s("strong",[e._v("安装完成后，如果还没有真实文件")])])]),e._v(" "),s("p",[e._v("执行如下：")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v("  /etc/rhsm/ca/\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("## 下载真实 ca文件")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://raw.githubusercontent.com/candlepin/subscription-manager/master/etc-conf/redhat-uep.pem\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("ul",[s("li",[e._v("最后需要手动  docker  pull  源")])]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" pull registry.access.redhat.com/rhel7/pod-infrastructure:latest\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);