(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{564:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"openresty-使用拓展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#openresty-使用拓展"}},[s._v("#")]),s._v(" openresty 使用拓展")]),s._v(" "),t("h2",{attrs:{id:"文件服务器系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件服务器系统"}},[s._v("#")]),s._v(" 文件服务器系统")]),s._v(" "),t("ul",[t("li",[s._v("配置文件参数\n"),t("code",[s._v("autoindex_exact_size off;")]),s._v("\n默认为on，显示出文件的确切大小，单位是bytes。\n改为off后，显示出文件的大概大小，单位是kB或者MB或者GB")])]),s._v(" "),t("p",[t("code",[s._v("autoindex_localtime on;")]),s._v("\n默认为off，显示的文件时间为GMT时间。\n改为on后，显示的文件时间为文件的服务器时间")]),s._v(" "),t("ul",[t("li",[s._v("配置文件修改")])]),s._v(" "),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[s._v("在server段添加\n\nlocation / "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\nautoindex on;\nautoindex_localtime on; "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#之类的参数写这里")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("ul",[t("li",[s._v("中文乱码处理")])]),s._v(" "),t("p",[t("strong",[s._v("在Http块内增加如下配置")]),s._v(" "),t("code",[s._v("charset utf-8;")])]),s._v(" "),t("h2",{attrs:{id:"视频系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视频系统"}},[s._v("#")]),s._v(" 视频系统")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("编译安装")]),s._v(" "),t("p",[s._v("编译时候增加"),t("code",[s._v("with-http_mp4_module --with-http_flv_module")])])]),s._v(" "),t("li",[t("p",[s._v("添加配置")])])]),s._v(" "),t("p",[s._v("在server中添加")]),s._v(" "),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[s._v("limit_rate_after 30m;\nlimit_rate 700k;  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#这里根据需要设置，意思是视频缓冲30M之后，限速为700k/s")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##匹配任何已.mp4为结尾的文件")]),s._v("\n  location ~ \\.mp4$ "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      mp4;\n   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("ul",[t("li",[s._v("加载配置")])]),s._v(" "),t("p",[t("code",[s._v("nginx -s reload")])]),s._v(" "),t("h2",{attrs:{id:"markdown-文档支持"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#markdown-文档支持"}},[s._v("#")]),s._v(" markdown 文档支持")]),s._v(" "),t("p",[t("strong",[s._v("按照文档部署")]),s._v("\nhttps://mrasong.com/a/openresty-markdown-to-html")])])}),[],!1,null,null,null);t.default=e.exports}}]);