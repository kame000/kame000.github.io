(window.webpackJsonp=window.webpackJsonp||[]).push([[150],{557:function(v,_,t){"use strict";t.r(_);var a=t(2),r=Object(a.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h2",{attrs:{id:"cdn-相关"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#cdn-相关"}},[v._v("#")]),v._v(" CDN 相关")]),v._v(" "),_("h2",{attrs:{id:"简介"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[v._v("#")]),v._v(" 简介")]),v._v(" "),_("p",[v._v("CDN是将源站内容分发至全国所有的节点，从而缩短用户查看对象的延迟，提高用户访问网站的响应速度与网站的可用性的技术。它能够有效解决网络带宽小、用户访问量大、网点分布不均等问题。")]),v._v(" "),_("blockquote",[_("p",[v._v("CDN 其实是 Content Delivery Network 的缩写，即“内容分发网络”")])]),v._v(" "),_("blockquote",[_("p",[v._v("源站内容(image、html、js、css等) 这个属于内容分发")])]),v._v(" "),_("p",[v._v("CDN 诞生于二十多年前，随着骨干网压力的逐渐增大，以及长传需求的逐渐增多，使得骨干网的压力越来越大，长传效果越来越差。于是在 1995 年，MIT 的应用数学教授 Tom Leighton 带领着研究生 Danny Lewin 和其他几位顶级研究人员一起尝试用数学问题解决网络拥堵问题。")]),v._v(" "),_("p",[v._v("他们使用数学算法，处理内容的动态路由安排，并最终解决了困扰 Internet 使用者的难题。后来，史隆管理学院的 MBA 学生 Jonathan Seelig 加入了 Leighton 的队伍中，从那以后他们开始实施自己的商业计划，最终于 1998 年 8 月 20 日正式成立公司，命名为 Akamai。")]),v._v(" "),_("p",[v._v("同年 1998 年，中国第一家 CDN 公司 "),_("code",[v._v("ChinaCache")]),v._v("成立。")]),v._v(" "),_("p",[_("code",[v._v("蓝汛 是中国第一家CDN公司")])]),v._v(" "),_("p",[v._v("在接下来的20年中，CDN行业历经变革和持续发展，行业也涌现出很多云CDN厂商。阿里云CDN是2008年从淘宝CDN起家，在2014年正式发展成为阿里云CDN的，它不仅为阿里巴巴集团所有子公司提供服务，同时也将自身的资源、技术以云计算的方式输出。")]),v._v(" "),_("h2",{attrs:{id:"为什么有cdn"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#为什么有cdn"}},[v._v("#")]),v._v(" 为什么有CDN")]),v._v(" "),_("p",[v._v("当下的互联网应用都包含大量的静态内容，但静态内容以及一些准动态内容又是最耗费带宽的，特别是针对全国甚至全世界的大型网站，如果这些请求都指向主站的服务器的话，不仅是主站服务器受不了，单端口500M左右的带宽也扛不住，所以大多数网站都需要CDN服务。")]),v._v(" "),_("p",[v._v("根本上的原因是，访问速度对互联网应用的用户体验、口碑、甚至说直接的营收都有巨大的影响，任何的企业都渴望自己站点有更快的访问速度。而HTTP传输时延对web的访问速度的影响很大，在绝大多数情况下是起决定性作用的，这是由TCP/IP协议的一些特点决定的。物理层上的原因是光速有限、信道有限，协议上的原因有丢包、慢启动、拥塞控制等。")]),v._v(" "),_("p",[v._v("这就是你使用CDN的第一个也是最重要的原因：为了加速网站的访问。")]),v._v(" "),_("p",[_("strong",[v._v("除了加速网站的访问之外，CDN还有一些作用")]),v._v("：")]),v._v(" "),_("ul",[_("li",[v._v("为了实现跨运营商、跨地域的全网覆盖")])]),v._v(" "),_("p",[v._v("互联不互通、区域ISP地域局限、出口带宽受限制等种种因素都造成了网站的区域性无法访问。CDN加速可以覆盖全球的线路，通过和运营商合作，部署IDC资源，在全国骨干节点商，合理部署CDN边缘分发存储节点，充分利用带宽资源，平衡源站流量。阿里云在国内有500+节点，海外300+节点，覆盖主流国家和地区不是问题，可以确保CDN服务的稳定和快速。")]),v._v(" "),_("ul",[_("li",[v._v("为了保障你的网站安全")])]),v._v(" "),_("p",[v._v("CDN的负载均衡和分布式存储技术，可以加强网站的可靠性，相当无无形中给你的网站添加了一把保护伞，应对绝大部分的互联网攻击事件。防攻击系统也能避免网站遭到恶意攻击。")]),v._v(" "),_("ul",[_("li",[v._v("为了异地备援")])]),v._v(" "),_("p",[v._v("当某个服务器发生意外故障时，系统将会调用其他临近的健康服务器节点进行服务，进而提供接近100%的可靠性，这就让你的网站可以做到永不宕机。")]),v._v(" "),_("ul",[_("li",[v._v("为了节约成本")])]),v._v(" "),_("p",[v._v("投入使用CDN加速可以实现网站的全国铺设，你根据不用考虑购买服务器与后续的托管运维，服务器之间镜像同步，也不用为了管理维护技术人员而烦恼，节省了人力、精力和财力。")]),v._v(" "),_("ul",[_("li",[v._v("为了让你更专注业务本身")])]),v._v(" "),_("p",[v._v("CDN加速厂商一般都会提供一站式服务，业务不仅限于CDN，还有配套的云存储、大数据服务、视频云服务等，而且一般会提供7x24运维监控支持，保证网络随时畅通，你可以放心使用。并且将更多的精力投入到发展自身的核心业务之上。")]),v._v(" "),_("p",[_("img",{attrs:{src:"http://img.liuwenqi.com/blog/2019-10-08-045708.jpg",alt:""}})]),v._v(" "),_("h2",{attrs:{id:"原理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[v._v("#")]),v._v(" 原理")]),v._v(" "),_("h3",{attrs:{id:"通俗原理-必须懂"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#通俗原理-必须懂"}},[v._v("#")]),v._v(" 通俗原理（必须懂）")]),v._v(" "),_("p",[_("img",{attrs:{src:"http://img.liuwenqi.com/blog/2019-10-08-045839.jpg",alt:""}})]),v._v(" "),_("h3",{attrs:{id:"通过域名解析ip分析-加分"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#通过域名解析ip分析-加分"}},[v._v("#")]),v._v(" 通过域名解析IP分析（加分）")]),v._v(" "),_("p",[_("img",{attrs:{src:"http://img.liuwenqi.com/blog/2019-10-08-050051.jpg",alt:""}})]),v._v(" "),_("ol",[_("li",[_("p",[v._v("当用户点击网站页面上的内容URL，经过本地DNS系统解析，DNS 系统会最终将域名的解析权交给 "),_("a",{attrs:{href:"https://en.wikipedia.org/wiki/CNAME_record",target:"_blank",rel:"noopener noreferrer"}},[v._v("CNAME"),_("OutboundLink")],1),v._v(" 指向的 CDN 专用 DNS 服务器。")])]),v._v(" "),_("li",[_("p",[v._v("CDN 的 DNS 服务器将 CDN 的全局负载均衡设备 IP 地址返回用户。")])]),v._v(" "),_("li",[_("p",[v._v("用户向 CDN 的全局负载均衡设备发起内容 URL 访问请求。")])]),v._v(" "),_("li",[_("p",[v._v("CDN 全局负载均衡设备根据用户 IP 地址，以及用户请求的内容URL，选择一台用户所属区域的区域负载均衡设备，告诉用户向这台设备发起请求。")])]),v._v(" "),_("li",[_("p",[v._v("基于以下这些条件的综合分析之后，区域负载均衡设备会向全局负载均衡设备返回一台缓存服务器的IP地址：")]),v._v(" "),_("ul",[_("li",[v._v("根据用户 IP 地址，判断哪一台服务器距用户最近；")]),v._v(" "),_("li",[v._v("根据用户所请求的 URL 中携带的内容名称，判断哪一台服务器上有用户所需内容；")]),v._v(" "),_("li",[v._v("查询各个服务器当前的负载情况，判断哪一台服务器尚有服务能力。")])])]),v._v(" "),_("li",[_("p",[v._v("全局负载均衡设备把服务器的 IP 地址返回给用户。")])]),v._v(" "),_("li",[_("p",[v._v("用户向缓存服务器发起请求，缓存服务器响应用户请求，将用户所需内容传送到用户终端。如果这台缓存服务器上并没有用户想要的内容，而区域均衡设备依然将它分配给了用户，那么这台服务器就要向它的上一级缓存服务器请求内容，直至追溯到网站的源服务器将内容拉到本地。")])])]),v._v(" "),_("p",[v._v("DNS 服务器根据用户 IP 地址，将域名解析成相应节点的缓存服务器IP地址，实现用户就近访问。使用 CDN 服务的网站，只需将其域名解析权交给 CDN 的全局负载均衡（GSLB）设备，将需要分发的内容注入 CDN，就可以实现内容加速了。")]),v._v(" "),_("h2",{attrs:{id:"常用的cdn缓存软件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#常用的cdn缓存软件"}},[v._v("#")]),v._v(" 常用的CDN缓存软件")]),v._v(" "),_("ul",[_("li",[_("p",[v._v("Varnish ：可以认为是内存缓存，速度一流，但是内存缓存也限制了其容量，缓存页面和图片一般是挺好的；")])]),v._v(" "),_("li",[_("p",[v._v("squid是功能最全面的比较传统的web cache server，有自己的存储引擎。，但是架构太老，性能不怎样。")])]),v._v(" "),_("li",[_("p",[v._v("nginx本来是反向代理/web服务器，用了插件可以做做这个副业，但是本身不支持的功能比较多")])])]),v._v(" "),_("h2",{attrs:{id:"适用场景"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#适用场景"}},[v._v("#")]),v._v(" 适用场景")]),v._v(" "),_("ul",[_("li",[v._v("网站站点/应用加速")])]),v._v(" "),_("p",[_("code",[v._v("通俗讲就是static 内容加速，静态内容加速，如：html image  js css 等")])]),v._v(" "),_("ul",[_("li",[v._v("视音频点播/大文件下载分发加速")])]),v._v(" "),_("p",[v._v("基本上都是视频点播，"),_("code",[v._v("MP4、flv")]),v._v("等视频文件，例如国内的优酷、土豆、腾讯视频、爱奇艺都是一样。")]),v._v(" "),_("ul",[_("li",[v._v("视频直播加速")])]),v._v(" "),_("p",[v._v("视频直播加速，流媒体切片、转码、码流转换等等。")]),v._v(" "),_("p",[v._v("熊猫TV、斗鱼、淘宝直播")]),v._v(" "),_("ul",[_("li",[v._v("移动应用加速")])]),v._v(" "),_("p",[v._v("移动APP更新文件（apk文件）分发，移动APP内图片、页面、短视频、UGC等内容的优化加速分发。")]),v._v(" "),_("p",[v._v("ios、安卓 端  APP 、微信小程序、支付宝小程序等。")]),v._v(" "),_("h2",{attrs:{id:"题外"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#题外"}},[v._v("#")]),v._v(" 题外")]),v._v(" "),_("h3",{attrs:{id:"流量劫持"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#流量劫持"}},[v._v("#")]),v._v(" 流量劫持")]),v._v(" "),_("p",[v._v("其实，CDN本身就是一种DNS劫持，只不过是良性的。 不同于黑客强制DNS把域名解析到自己的钓鱼IP上，CDN则是让DNS主动配合，把域名解析到临近的服务器上。")]),v._v(" "),_("p",[_("strong",[v._v("劫持通常分为两类：")])]),v._v(" "),_("ul",[_("li",[_("p",[v._v("域名劫持，又称DNS劫持，通常是指域名指向到非正常IP（恶意IP），该恶意IP通过反向代理的方式，在能返回网页正常内容的情况，可能插入恶意代码、监听网民访问、劫持敏感信息等操作。通常验证一个域名是否被劫持的方法是PING一个域名，如果发现PING出来的IP不是您的服务器真实IP，则可以确定被劫持了（当然如果使用了知道创宇云安全等安全加速平台，得到的IP为平台IP，并非劫持）")])]),v._v(" "),_("li",[_("p",[v._v("数据劫持，通常由电信运营商中某些员工等勾结犯罪分子，在公网中进行数据支持，插入，此类情况极隐蔽，不会改变用户域名解析IP，而是直接数据流经运营商宽带时在网页中挺入内容，此类情况，建议网页启用HTTPS加密，可以解决这一问题（通信是加密的，运营商无法插入恶意内容）")])])]),v._v(" "),_("h3",{attrs:{id:"高仿、洗流量"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#高仿、洗流量"}},[v._v("#")]),v._v(" 高仿、洗流量")]),v._v(" "),_("p",[v._v("CDN 可以通过分流 ，洗掉来自Ddos  大部分的攻击 。")])])}),[],!1,null,null,null);_.default=r.exports}}]);