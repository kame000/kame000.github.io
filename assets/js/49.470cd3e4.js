(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{453:function(s,n,e){"use strict";e.r(n);var a=e(2),t=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"centos-增加硬盘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#centos-增加硬盘"}},[s._v("#")]),s._v(" Centos 增加硬盘")]),s._v(" "),n("h2",{attrs:{id:"环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#环境"}},[s._v("#")]),s._v(" 环境")]),s._v(" "),n("p",[s._v("在正常运行CentOS 7.1的机器上添加一块80G的新硬盘.")]),s._v(" "),n("h2",{attrs:{id:"系统"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#系统"}},[s._v("#")]),s._v(" 系统")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v("# cat /etc/redhat-release\nCentOS Linux release 7.1.1503 (Core)\n\n# uname -a\nLinux localhost.localdomain 3.10.0-229.el7.x86_64 #1 SMP Fri Mar 6 11:36:42 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux     \n")])])]),n("h2",{attrs:{id:"步骤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#步骤"}},[s._v("#")]),s._v(" 步骤：")]),s._v(" "),n("ul",[n("li",[s._v("关机、加硬盘、开机")]),s._v(" "),n("li",[s._v("查看硬盘是否识别到")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("        # fdisk -l\n\n        Disk /dev/sda: 500.1 GB, 500107862016 bytes, 976773168 sectors\n        Units = sectors of 1 * 512 = 512 bytes\n        Sector size (logical/physical): 512 bytes / 512 bytes\n        I/O size (minimum/optimal): 512 bytes / 512 bytes\n        Disk label type: dos\n        Disk identifier: 0xf0b1ebb0\n\n           Device Boot      Start         End      Blocks   Id  System\n        /dev/sda1   *        4096   209723391   104859648    7  HPFS/NTFS/exFAT\n        /dev/sda2       209723392   210747391      512000   83  Linux\n        /dev/sda3       210747392   976773119   383012864   8e  Linux LVM\n\n        Disk /dev/sdb: 80.0 GB, 80026361856 bytes, 156301488 sectors\n        Units = sectors of 1 * 512 = 512 bytes\n        Sector size (logical/physical): 512 bytes / 512 bytes\n        I/O size (minimum/optimal): 512 bytes / 512 bytes\n        Disk label type: dos\n        Disk identifier: 0x947748e0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("ul",[n("li",[s._v("fdisk /dev/sdb 硬盘分区")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("        # fdisk /dev/sdb\n        Welcome to fdisk (util-linux 2.23.2).\n\n            Changes will remain in memory only, until you decide to write them.\n            Be careful before using the write command.\n\n\n            Command (m for help): m  #帮助\n            Command action\n           a   toggle a bootable flag\n           b   edit bsd disklabel\n           c   toggle the dos compatibility flag\n           d   delete a partition\n           g   create a new empty GPT partition table\n           G   create an IRIX (SGI) partition table\n           l   list known partition types\n           m   print this menu\n           n   add a new partition\n           o   create a new empty DOS partition table\n           p   print the partition table\n       q   quit without saving changes\n   s   create a new empty Sun disklabel\n   t   change a partition's system id\n   u   change display/entry units\n   v   verify the partition table\n   w   write table to disk and exit\n   x   extra functionality (experts only)\n\n    Command (m for help): p  #查看分区\n\n    Disk /dev/sdb: 80.0 GB, 80026361856 bytes, 156301488 sectors\n    Units = sectors of 1 * 512 = 512 bytes\n    Sector size (logical/physical): 512 bytes / 512 bytes\n    I/O size (minimum/optimal): 512 bytes / 512 bytes\n    Disk label type: dos\n    Disk identifier: 0x947748e0\n\n       Device Boot      Start         End      Blocks   Id  System\n\n    Command (m for help): n   #新建分区\n    Partition type:\n       p   primary (0 primary, 0 extended, 4 free)\n       e   extended\n    Select (default p): p    #主分区\n    Partition number (1-4, default 1): 1    #分区个数\n    First sector (2048-156301487, default 2048):     #使用所有，直接回车\n    Using default value 2048\n    Last sector, +sectors or +size{K,M,G} (2048-156301487, default 156301487): #直接回车\n    Using default value 156301487\n    Partition 1 of type Linux and of size 74.5 GiB is set\n\n    Command (m for help): w\n    The partition table has been altered!\n\n    Calling ioctl() to re-read partition table.\n    Syncing disks.\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br")])]),n("ul",[n("li",[s._v("查看分区是否成功")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("      ll /dev/sdb*\n      brw-rw----. 1 root disk 8, 16 Apr 15 22:11 /dev/sdb\n      brw-rw----. 1 root disk 8, 17 Apr 15 22:11 /dev/sdb1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("ul",[n("li",[s._v("格式化分区")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("      # mkfs    #系统支持的文件系统格式\n      mkfs         mkfs.btrfs   mkfs.cramfs  mkfs.ext2    mkfs.ext3    mkfs.ext4    mkfs.minix   mkfs.xfs\n\n      # mkfs.xfs /dev/sdb1   #CentOS7.1 默认的文件系统为xfs，保存同系统一致\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("ul",[n("li",[s._v("挂载新硬盘，并添加到 /etc/fstab自动挂载")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("    mkdir /newdisk\n    mount /dev/sdb1 /newdisk\n\n      # vi /etc/fstab\n\n      # /etc/fstab\n      # Created by anaconda on Wed Apr 15 18:50:24 2015\n      #\n      # Accessible filesystems, by reference, are maintained under '/dev/disk'\n      # See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info\n      #\n      /dev/sdb1               /newdisk            xfs     defaults        0 0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("ul",[n("li",[s._v("重启验证一下")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("  # df -hT\n  Filesystem              Type      Size  Used Avail Use% Mounted on\n  /dev/mapper/centos-root xfs        50G  1.1G   49G   3% /\n  devtmpfs                devtmpfs  927M     0  927M   0% /dev\n  tmpfs                   tmpfs     937M     0  937M   0% /dev/shm\n  tmpfs                   tmpfs     937M  8.5M  928M   1% /run\n  tmpfs                   tmpfs     937M     0  937M   0% /sys/fs/cgroup\n  /dev/sdb1               xfs        75G   33M   75G   1% /newdisk\n  /dev/mapper/centos-home xfs       312G   33M  312G   1% /home\n  /dev/sda2               xfs       497M  121M  377M  25% /boot\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);